---
import AstroshipLayout from "../layouts/AstroshipLayout.astro";
import Container from "../components/container.astro";
import Button from "../components/ui/button.astro";
import { Icon } from "astro-icon/components";
import CustomerLogos from "../components/customer-logos.astro";
import Features from "../components/features.astro";

// Hero demo components for Forms to Conversations tab
import HeroDemoContainer from "../components/hero-demo/HeroDemoContainer.astro";
import FormCard from "../components/hero-demo/FormCard.astro";
import FormQuestion from "../components/hero-demo/FormQuestion.astro";
import TextInput from "../components/hero-demo/TextInput.astro";
import StarRating from "../components/hero-demo/StarRating.astro";
import MultipleChoice from "../components/hero-demo/MultipleChoice.astro";
import ResultPanel from "../components/hero-demo/ResultPanel.astro";

const tabs = [
  {
    id: "inbox",
    title: "Shared Inbox",
    icon: "bx:envelope-open",
    video: "https://cdn.freeonlinesurveys.com/Free-Online-Surveys.mp4",
    description: "All your team's messages in one unified inbox"
  },
  {
    id: "tickets",
    title: "Forms to Conversations",
    icon: "bx:conversation",
    video: "https://cdn.freeonlinesurveys.com/Free-Online-Forms.mp4",
    description: "Every form submission becomes a conversation you can reply to"
  },
  {
    id: "contacts",
    title: "Contact Hub",
    icon: "bx:user-circle",
    video: "https://cdn.freeonlinesurveys.com/Free-Online-Quizzes.mp4",
    description: "Complete customer profiles with full conversation history"
  },
  {
    id: "automation",
    title: "Automation",
    icon: "bx:bot",
    video: "https://cdn.freeonlinesurveys.com/Interactive-Calculator-Builder.mp4",
    description: "Auto-assign, tag, and route conversations with smart rules"
  },
];
---

<AstroshipLayout
  title="Team Inbox - Shared Inbox for Form Submissions & Email | Shout.com"
  description="A shared inbox that brings form submissions, surveys, and emails together. Collaborate with your team on customer conversations. Start your 14-day Free Trial."
>
  <!-- Hero Section with Tabbed Video -->
  <section class="py-16">
    <Container>
      <div class="text-center max-w-4xl mx-auto mb-12">
        <h1 class="text-5xl lg:text-6xl font-bold lg:tracking-tight mb-6">
          One inbox for <span class="text-primary">everything</span>
        </h1>
        <p class="text-xl text-gray-600">
          Form submissions, emails, and support tickets all in one place. Your team works together, nothing falls through the cracks.
        </p>
      </div>

      <!-- Tabs -->
      <div class="flex justify-center mb-8">
        <div class="inline-flex bg-gray-100 rounded-full p-1 gap-1">
          {tabs.map((tab, index) => (
            <button
              data-tab={tab.id}
              class:list={[
                "tab-button px-6 py-3 rounded-full text-sm font-medium transition-all flex items-center gap-2",
                index === 0 ? "bg-white shadow-sm text-gray-900" : "text-gray-600 hover:text-gray-900"
              ]}
            >
              <Icon name={tab.icon} class="w-5 h-5" />
              {tab.title}
            </button>
          ))}
        </div>
      </div>

      <!-- Video/Demo Container -->
      <div class="max-w-5xl mx-auto">
        <div class="relative">
          {tabs.filter(tab => tab.id !== "tickets").map((tab, index) => (
            <div
              data-video-panel={tab.id}
              class:list={[
                "video-panel rounded-2xl overflow-hidden shadow-2xl bg-gray-900",
                index === 0 ? "block" : "hidden"
              ]}
            >
              <video
                src={tab.video}
                autoplay
                muted
                loop
                playsinline
                class="w-full h-auto"
              />
            </div>
          ))}

          <!-- Forms to Conversations Hero Demo -->
          <div data-video-panel="tickets" class="video-panel hidden">
            <HeroDemoContainer id="f2c-demo" rightWidth="md:w-[60%]">
              <FormCard slot="left" title="Contact Us" id="f2c-form" bgColor="bg-[#2A98C6]">
                <FormQuestion number={1} question="Your details" id="f2c-q1" barVisible={true}>
                  <div class="grid grid-cols-2 gap-2 mb-2">
                    <TextInput id="f2c-fname" label="First Name" />
                    <TextInput id="f2c-lname" label="Last Name" />
                  </div>
                  <TextInput id="f2c-email" label="Email Address" />
                </FormQuestion>

                <FormQuestion number={2} question="What can we help with?" id="f2c-q2">
                  <MultipleChoice id="f2c-topic" optionA="Sales inquiry" optionB="Support" />
                </FormQuestion>

                <FormQuestion number={3} question="How urgent is this?" id="f2c-q3" class="">
                  <StarRating id="f2c-urgency" />
                </FormQuestion>
              </FormCard>

              <ResultPanel slot="right" title="Team Inbox" icon="bx:chat" id="f2c-inbox">
                <div class="flex h-[340px]">
                  <!-- Ticket list sidebar -->
                  <div class="w-[140px] border-r border-gray-200 bg-gray-50/50 flex-shrink-0 overflow-hidden">
                    <div id="f2c-ticket-new" class="px-3 py-2 bg-primary/10 border-l-2 border-primary cursor-pointer opacity-0 transition-all duration-500">
                      <div class="flex items-center gap-2 mb-1">
                        <div class="w-5 h-5 rounded-full bg-rose-500 flex items-center justify-center text-white text-[10px] font-medium">J</div>
                        <span class="text-xs font-medium text-gray-800 truncate">Jane Cooper</span>
                      </div>
                      <p class="text-[10px] text-gray-500 truncate">Contact Us</p>
                      <span class="inline-block mt-1 text-[8px] bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded">New</span>
                    </div>
                    <div class="px-3 py-2 border-b border-gray-100 hover:bg-gray-50 cursor-pointer opacity-60">
                      <div class="flex items-center gap-2 mb-1">
                        <div class="w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center text-white text-[10px] font-medium">S</div>
                        <span class="text-xs font-medium text-gray-700 truncate">Sarah Johnson</span>
                      </div>
                      <p class="text-[10px] text-gray-400 truncate">Feedback form</p>
                    </div>
                    <div class="px-3 py-2 border-b border-gray-100 hover:bg-gray-50 cursor-pointer opacity-60">
                      <div class="flex items-center gap-2 mb-1">
                        <div class="w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center text-white text-[10px] font-medium">M</div>
                        <span class="text-xs font-medium text-gray-700 truncate">Mike Chen</span>
                      </div>
                      <p class="text-[10px] text-gray-400 truncate">Product inquiry</p>
                    </div>
                    <div class="px-3 py-2 hover:bg-gray-50 cursor-pointer opacity-60">
                      <div class="flex items-center gap-2 mb-1">
                        <div class="w-5 h-5 rounded-full bg-orange-500 flex items-center justify-center text-white text-[10px] font-medium">A</div>
                        <span class="text-xs font-medium text-gray-700 truncate">Alex Rivera</span>
                      </div>
                      <p class="text-[10px] text-gray-400 truncate">Support request</p>
                    </div>
                  </div>

                  <!-- Conversation detail -->
                  <div class="flex-1 flex flex-col p-3">
                    <div class="space-y-2 flex-1 flex flex-col overflow-y-auto">
                      <div id="f2c-msg-1" class="flex gap-2 items-start opacity-0 translate-y-4 transition-all duration-500">
                        <div class="w-5 h-5 rounded-full bg-rose-500 flex items-center justify-center text-white text-[10px] font-medium flex-shrink-0 mt-0.5">J</div>
                        <div class="bg-gray-100 rounded-xl rounded-tl-sm px-2.5 py-1.5 max-w-[90%]">
                          <p class="text-[10px] font-medium text-gray-500 mb-1">Jane Cooper</p>
                          <div class="text-[10px] text-gray-500 mb-1.5 pb-1.5 border-b border-gray-200">
                            <p><span class="font-medium">Topic:</span> Sales inquiry</p>
                            <p><span class="font-medium">Urgency:</span> ★★★★☆</p>
                          </div>
                          <p class="text-xs text-gray-700">Hi! I'd like to learn more about your enterprise plan pricing.</p>
                        </div>
                      </div>
                      <div id="f2c-msg-2" class="flex gap-2 items-start justify-end opacity-0 translate-y-4 transition-all duration-500">
                        <div class="bg-gray-900 text-white rounded-xl rounded-tr-sm px-2.5 py-1.5 max-w-[85%]">
                          <p class="text-xs">Hi Jane! Thanks for reaching out. I'd be happy to walk you through our enterprise options. Would you have time for a quick call this week?</p>
                        </div>
                        <div class="w-5 h-5 rounded-full bg-purple-500 flex items-center justify-center text-white text-[10px] font-medium flex-shrink-0 mt-0.5">T</div>
                      </div>
                    </div>
                    <div class="flex gap-2 pt-2 mt-auto border-t border-gray-100">
                      <div class="flex-1 bg-gray-50 rounded-full px-3 py-1 text-xs text-gray-400">Reply...</div>
                      <button class="bg-gray-900 text-white w-6 h-6 rounded-full flex items-center justify-center">
                        <Icon name="bx:send" class="w-3 h-3" />
                      </button>
                    </div>
                  </div>
                </div>
              </ResultPanel>
            </HeroDemoContainer>
          </div>
        </div>

        <!-- Description below video -->
        <div class="text-center mt-6">
          {tabs.map((tab, index) => (
            <p
              data-description={tab.id}
              class:list={[
                "tab-description text-lg text-gray-600",
                index === 0 ? "block" : "hidden"
              ]}
            >
              {tab.description}
            </p>
          ))}
        </div>
      </div>

      <!-- CTA -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center mt-10">
        <Button href="/signup/" size="lg">Start your Free Trial</Button>
        <p class="text-gray-600 text-sm self-center">14-day Free Trial - No Credit Card Required</p>
      </div>
    </Container>
  </section>

  <!-- Customer Logos -->
  <CustomerLogos />

  <!-- Feature Highlights -->
  <section class="py-16">
    <Container>
      <div class="mb-12 text-center">
        <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight">Everything your team needs</h2>
        <p class="text-lg mt-4 text-gray-600 max-w-3xl mx-auto">
          Stop switching between apps. Manage all customer communication from one powerful inbox.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        <div class="bg-white rounded-xl border border-gray-200 p-8 hover:shadow-lg transition-all">
          <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4">
            <Icon name="bx:envelope-open" class="w-6 h-6 text-primary" />
          </div>
          <h3 class="text-xl font-semibold mb-2">Shared Inbox</h3>
          <p class="text-gray-600">Shared inbox for your entire team. See who's handling what in real-time.</p>
        </div>

        <div class="bg-white rounded-xl border border-gray-200 p-8 hover:shadow-lg transition-all">
          <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4">
            <Icon name="bx:conversation" class="w-6 h-6 text-primary" />
          </div>
          <h3 class="text-xl font-semibold mb-2">Forms to Conversations</h3>
          <p class="text-gray-600">Every form submission becomes a conversation you can reply to.</p>
        </div>

        <div class="bg-white rounded-xl border border-gray-200 p-8 hover:shadow-lg transition-all">
          <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4">
            <Icon name="bx:user-circle" class="w-6 h-6 text-primary" />
          </div>
          <h3 class="text-xl font-semibold mb-2">Contact Hub</h3>
          <p class="text-gray-600">Every contact builds a profile. See their full history at a glance.</p>
        </div>

        <div class="bg-white rounded-xl border border-gray-200 p-8 hover:shadow-lg transition-all">
          <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4">
            <Icon name="bx:bot" class="w-6 h-6 text-primary" />
          </div>
          <h3 class="text-xl font-semibold mb-2">Automation</h3>
          <p class="text-gray-600">Auto-assign, tag, and route based on content or form fields.</p>
        </div>
      </div>
    </Container>
  </section>

  <!-- Forms Integration -->
  <section class="py-16 bg-gray-50">
    <Container>
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight mb-6">Forms flow straight to your inbox</h2>
          <p class="text-lg text-gray-600 mb-8">
            Every form submission from Shout becomes a conversation. Reply directly and they receive your response by email.
          </p>
          <div class="space-y-4">
            <div class="flex items-start gap-3">
              <Icon name="bx:check-circle" class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" />
              <p class="text-gray-600">Contact forms create instant conversations</p>
            </div>
            <div class="flex items-start gap-3">
              <Icon name="bx:check-circle" class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" />
              <p class="text-gray-600">Survey responses arrive for follow-up</p>
            </div>
            <div class="flex items-start gap-3">
              <Icon name="bx:check-circle" class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" />
              <p class="text-gray-600">Quiz results ready for personalized outreach</p>
            </div>
            <div class="flex items-start gap-3">
              <Icon name="bx:check-circle" class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" />
              <p class="text-gray-600">Calculator submissions with full context</p>
            </div>
          </div>
        </div>

        <div class="lg:pl-8">
          <div class="bg-white rounded-lg shadow-xl border border-gray-200 p-6">
            <div class="flex items-center gap-3 mb-4 pb-4 border-b">
              <div class="w-3 h-3 rounded-full bg-red-400"></div>
              <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
              <div class="w-3 h-3 rounded-full bg-green-400"></div>
              <span class="ml-2 text-sm text-gray-500">Team Inbox</span>
            </div>
            <div class="space-y-3">
              <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                <Icon name="bx:file" class="w-5 h-5 text-blue-600" />
                <div class="flex-1">
                  <p class="text-sm font-medium">New form submission</p>
                  <p class="text-xs text-gray-500">Contact form - Sarah Johnson</p>
                </div>
                <span class="text-xs text-gray-400">2m</span>
              </div>
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <Icon name="bx:envelope" class="w-5 h-5 text-gray-600" />
                <div class="flex-1">
                  <p class="text-sm font-medium">Re: Project update</p>
                  <p class="text-xs text-gray-500">support@company.com</p>
                </div>
                <span class="text-xs text-gray-400">15m</span>
              </div>
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <Icon name="bx:bar-chart-alt-2" class="w-5 h-5 text-gray-600" />
                <div class="flex-1">
                  <p class="text-sm font-medium">Survey response</p>
                  <p class="text-xs text-gray-500">Customer satisfaction - NPS 9</p>
                </div>
                <span class="text-xs text-gray-400">1h</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Container>
  </section>

  <!-- Team Collaboration Features -->
  <section class="py-16">
    <Container>
      <div class="mb-12 text-center">
        <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight">Built for team collaboration</h2>
        <p class="text-lg mt-4 text-gray-600 max-w-3xl mx-auto">
          Work together without stepping on each other's toes.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow">
          <div class="flex items-center mb-3">
            <Icon name="bx:user-plus" class="w-8 h-8 text-primary mr-3" />
            <h3 class="text-lg font-semibold text-primary">Assign Conversations</h3>
          </div>
          <p class="text-gray-600">Route conversations to the right person. Everyone knows who's handling what.</p>
        </div>
        <div class="bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow">
          <div class="flex items-center mb-3">
            <Icon name="bx:group" class="w-8 h-8 text-primary mr-3" />
            <h3 class="text-lg font-semibold text-primary">Collision Detection</h3>
          </div>
          <p class="text-gray-600">See when teammates are viewing or replying to the same conversation.</p>
        </div>
        <div class="bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow">
          <div class="flex items-center mb-3">
            <Icon name="bx:comment-detail" class="w-8 h-8 text-primary mr-3" />
            <h3 class="text-lg font-semibold text-primary">Internal Notes</h3>
          </div>
          <p class="text-gray-600">Leave private notes for your team that the customer never sees.</p>
        </div>
        <div class="bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow">
          <div class="flex items-center mb-3">
            <Icon name="bx:at" class="w-8 h-8 text-primary mr-3" />
            <h3 class="text-lg font-semibold text-primary">@Mentions</h3>
          </div>
          <p class="text-gray-600">Tag colleagues to loop them into conversations or ask for input.</p>
        </div>
        <div class="bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow">
          <div class="flex items-center mb-3">
            <Icon name="bx:purchase-tag" class="w-8 h-8 text-primary mr-3" />
            <h3 class="text-lg font-semibold text-primary">Tags & Labels</h3>
          </div>
          <p class="text-gray-600">Organize with tags. Filter by type, priority, or any category you need.</p>
        </div>
        <div class="bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow">
          <div class="flex items-center mb-3">
            <Icon name="bx:search" class="w-8 h-8 text-primary mr-3" />
            <h3 class="text-lg font-semibold text-primary">Instant Search</h3>
          </div>
          <p class="text-gray-600">Find any conversation instantly. Search by name, email, or content.</p>
        </div>
      </div>
    </Container>
  </section>

  <!-- Integrated Solutions -->
  <Features />

  <!-- Final CTA -->
  <section class="py-16 bg-gray-50">
    <Container>
      <div class="text-center max-w-4xl mx-auto">
        <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight mb-6">Ready to unify your team's inbox?</h2>
        <p class="text-lg text-gray-600 mb-8">Join thousands of teams using Shout to manage conversations and never miss a message.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Button href="/signup/">Start your Free Trial</Button>
          <Button variant="outline" href="/pricing/">View Pricing</Button>
        </div>
      </div>
    </Container>
  </section>

</AstroshipLayout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const tabButtons = document.querySelectorAll('.tab-button');
    const videoPanels = document.querySelectorAll('.video-panel');
    const descriptions = document.querySelectorAll('.tab-description');
    let f2cAnimationRunning = false;
    let f2cTimeouts = [];

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const tabId = button.getAttribute('data-tab');

        // Update button styles
        tabButtons.forEach(btn => {
          btn.classList.remove('bg-white', 'shadow-sm', 'text-gray-900');
          btn.classList.add('text-gray-600');
        });
        button.classList.add('bg-white', 'shadow-sm', 'text-gray-900');
        button.classList.remove('text-gray-600');

        // Show/hide video panels
        videoPanels.forEach(panel => {
          if (panel.getAttribute('data-video-panel') === tabId) {
            panel.classList.remove('hidden');
            panel.classList.add('block');
            // Restart video if present
            const video = panel.querySelector('video');
            if (video) {
              video.currentTime = 0;
              video.play();
            }
          } else {
            panel.classList.add('hidden');
            panel.classList.remove('block');
          }
        });

        // Show/hide descriptions
        descriptions.forEach(desc => {
          if (desc.getAttribute('data-description') === tabId) {
            desc.classList.remove('hidden');
            desc.classList.add('block');
          } else {
            desc.classList.add('hidden');
            desc.classList.remove('block');
          }
        });

        // Handle Forms to Conversations animation
        if (tabId === 'tickets') {
          resetF2CAnimation();
          setTimeout(() => runF2CAnimation(), 500);
        } else {
          stopF2CAnimation();
        }
      });
    });

    // Forms to Conversations Animation
    function runF2CAnimation() {
      if (f2cAnimationRunning) return;
      f2cAnimationRunning = true;

      const timeline = [
        // Phase 1: Type name fields (q1 bar already visible)
        { delay: 500, action: () => window['typeText_f2c-fname'] && window['typeText_f2c-fname']('Jane', 80) },
        { delay: 1200, action: () => window['typeText_f2c-lname'] && window['typeText_f2c-lname']('Cooper', 80) },
        { delay: 2000, action: () => window['typeText_f2c-email'] && window['typeText_f2c-email']('jane@company.com', 50) },

        // Phase 2: Topic selection (progress + yellow bar)
        { delay: 3300, action: () => {
          window['f2c-formSetProgress'] && window['f2c-formSetProgress'](33);
          window['hideBar_f2c-q1'] && window['hideBar_f2c-q1']();
          window['showBar_f2c-q2'] && window['showBar_f2c-q2']();
        }},
        { delay: 3800, action: () => window['selectOption_f2c-topic'] && window['selectOption_f2c-topic']('a') },

        // Phase 3: Urgency rating
        { delay: 4500, action: () => {
          window['f2c-formSetProgress'] && window['f2c-formSetProgress'](66);
          window['hideBar_f2c-q2'] && window['hideBar_f2c-q2']();
          window['showBar_f2c-q3'] && window['showBar_f2c-q3']();
        }},
        { delay: 5000, action: () => window['fillStars_f2c-urgency'] && window['fillStars_f2c-urgency'](4) },
        { delay: 5700, action: () => window['f2c-formSetProgress'] && window['f2c-formSetProgress'](100) },

        // Phase 4: Transition to inbox
        { delay: 6300, action: () => window['f2c-demoFocusPanel'] && window['f2c-demoFocusPanel']('right') },

        // Phase 5: New ticket appears in sidebar
        { delay: 6800, action: () => {
          const ticket = document.getElementById('f2c-ticket-new');
          if (ticket) {
            ticket.classList.remove('opacity-0');
            ticket.classList.add('opacity-100');
          }
        }},

        // Phase 6: Chat messages appear
        { delay: 7300, action: () => showF2CMessage('f2c-msg-1') },
        { delay: 8500, action: () => showF2CMessage('f2c-msg-2') },

        // Reset and loop
        { delay: 16000, action: () => {
          resetF2CAnimation();
          setTimeout(() => runF2CAnimation(), 1000);
        }},
      ];

      timeline.forEach(item => {
        const t = setTimeout(item.action, item.delay);
        f2cTimeouts.push(t);
      });
    }

    function showF2CMessage(msgId) {
      const msg = document.getElementById(msgId);
      if (msg) {
        msg.classList.remove('opacity-0', 'translate-y-4');
        msg.classList.add('opacity-100', 'translate-y-0');
      }
    }

    function stopF2CAnimation() {
      f2cAnimationRunning = false;
      f2cTimeouts.forEach(t => clearTimeout(t));
      f2cTimeouts = [];
    }

    function resetF2CAnimation() {
      stopF2CAnimation();

      // Reset progress bar
      window['f2c-formSetProgress'] && window['f2c-formSetProgress'](0);

      // Reset yellow bars (q1 stays visible)
      window['showBar_f2c-q1'] && window['showBar_f2c-q1']();
      window['hideBar_f2c-q2'] && window['hideBar_f2c-q2']();
      window['hideBar_f2c-q3'] && window['hideBar_f2c-q3']();

      // Reset text fields
      window['resetText_f2c-fname'] && window['resetText_f2c-fname']();
      window['resetText_f2c-lname'] && window['resetText_f2c-lname']();
      window['resetText_f2c-email'] && window['resetText_f2c-email']();

      // Reset multiple choice
      window['resetOption_f2c-topic'] && window['resetOption_f2c-topic']();

      // Reset stars
      window['resetStars_f2c-urgency'] && window['resetStars_f2c-urgency']();

      // Reset ticket in sidebar
      const ticket = document.getElementById('f2c-ticket-new');
      if (ticket) {
        ticket.classList.add('opacity-0');
        ticket.classList.remove('opacity-100');
      }

      // Reset chat messages
      ['f2c-msg-1', 'f2c-msg-2'].forEach(id => {
        const msg = document.getElementById(id);
        if (msg) {
          msg.classList.add('opacity-0', 'translate-y-4');
          msg.classList.remove('opacity-100', 'translate-y-0');
        }
      });

      // Reset focus to form
      window['f2c-demoFocusPanel'] && window['f2c-demoFocusPanel']('left');
    }
  });
</script>
