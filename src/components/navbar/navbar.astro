---
import Container from "../container.astro";
import Link from "../ui/link.astro";
import { Astronav, MenuItems, MenuIcon } from "astro-navbar";

const formTypes = [
  { title: "Surveys", path: "/survey-maker/" },
  { title: "Quizzes", path: "/quiz-builder/" },
  { title: "Calculators", path: "/custom-calculator-builder/" },
];

const products = [
  { title: "Contact Hub", path: "/crm/" },
  { title: "Team Inbox", path: "/shared-inbox/" },
];
---

<Container>
  <header class="flex flex-col lg:flex-row justify-between items-center my-5">
    <Astronav>
      <div class="flex w-full lg:w-auto items-center justify-between">
        <div class="flex items-center gap-8">
          <a href="/" class="flex items-center">
            <img src="/images/logo.svg" alt="Shout.com" class="h-12 w-auto">
          </a>
          <nav class="hidden lg:flex">
            <ul class="flex flex-row items-center gap-1">
              <li class="relative group">
                <a href="/form-builder/" class="px-4 py-2 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors">
                  Forms <span class="text-[10px] ml-0.5 align-middle">â–¼</span>
                </a>
                <div class="absolute left-0 top-full pt-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50">
                  <ul class="bg-white rounded-lg shadow-lg border border-gray-100 py-1 min-w-[140px]">
                    {formTypes.map((item) => (
                      <li>
                        <a href={item.path} class="block px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-gray-900">
                          {item.title}
                        </a>
                      </li>
                    ))}
                  </ul>
                </div>
              </li>
              {
                products.map((product) => (
                  <li>
                    <a
                      href={product.path}
                      class="px-4 py-2 rounded-full text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors">
                      {product.title}
                    </a>
                  </li>
                ))
              }
            </ul>
          </nav>
        </div>
        <div class="block lg:hidden">
          <MenuIcon class="w-4 h-4 text-gray-800" />
        </div>
      </div>
      <MenuItems class="hidden w-full lg:w-auto mt-2 lg:hidden">
        <ul class="flex flex-col gap-1">
          <li class="px-4 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Forms</li>
          {
            formTypes.map((item) => (
              <li>
                <a
                  href={item.path}
                  class="block px-4 py-2 pl-6 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors">
                  {item.title}
                </a>
              </li>
            ))
          }
          <li class="border-t border-gray-100 my-2"></li>
          {
            products.map((product) => (
              <li>
                <a
                  href={product.path}
                  class="block px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors">
                  {product.title}
                </a>
              </li>
            ))
          }
        </ul>
        <div class="flex flex-col items-center mt-3 gap-3">
          <Link href="/pricing/" style="muted" block size="md">Pricing</Link>
          <Link href="/login/" style="muted" block size="md">Log in</Link>
          <Link href="/signup/" size="md" block>Start Free Trial</Link>
        </div>
      </MenuItems>
    </Astronav>
    <div>
      <div class="hidden lg:flex items-center gap-4">
        <a href="/pricing/" class="text-gray-600 hover:text-gray-900">Pricing</a>
        <a href="/login/" class="text-gray-600 hover:text-gray-900">Log in</a>
        <Link href="/signup/" size="md">Start Free Trial</Link>
      </div>
    </div>
  </header>
</Container>
