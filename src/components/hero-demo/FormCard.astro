---
/**
 * FormCard - The blue form card wrapper with progress bar
 *
 * Wraps form content with Shout-style blue background and yellow progress bar.
 */
export interface Props {
  title: string;
  id?: string;
  bgColor?: string;
}

const {
  title,
  id = 'form-card',
  bgColor = 'bg-[#2A98C6]'
} = Astro.props;
---

<div
  id={id}
  class={`${bgColor} rounded-xl shadow-2xl p-6 pb-6 flex flex-col relative overflow-hidden h-full`}
>
  <!-- Yellow progress bar at top -->
  <div id={`${id}-progress`} class="absolute top-0 left-0 w-0 h-1 bg-yellow-400 transition-all duration-500"></div>

  <!-- Title -->
  <h3 class="text-xl font-bold text-white mb-8">{title}</h3>

  <!-- Questions slot -->
  <slot />
</div>

<script define:vars={{ id }}>
  // Set progress bar width
  window[`${id}SetProgress`] = function(percent) {
    document.getElementById(`${id}-progress`).style.width = `${percent}%`;
  };
</script>
